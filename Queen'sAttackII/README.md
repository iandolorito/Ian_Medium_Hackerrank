This function calculates the number of squares a queen can attack on an n Ã— n chessboard given her position (r_q, c_q) and a list of obstacles. It considers all eight possible directions a queen can move (horizontal, vertical, and diagonal). For each direction, it moves step by step until it either reaches the edge of the board or encounters an obstacle, counting all reachable squares along the way. The function returns the total number of squares the queen can attack.