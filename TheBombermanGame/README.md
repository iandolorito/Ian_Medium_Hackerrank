This function simulates the Bomberman game for n seconds on a given grid. If n = 1, it returns the initial grid. If n is even, the grid is completely filled with bombs. For odd n > 1, the function calculates the pattern of explosions: it first computes the grid after the first explosion (afterFirst) and then after the second (afterSecond). Because the game cycles every 4 seconds after the initial explosions, it returns either afterFirst or afterSecond depending on (n - 3) % 4, producing the final state efficiently without simulating every second.